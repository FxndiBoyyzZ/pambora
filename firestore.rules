
rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    // Regra para a coleção de usuários.
    // Apenas o usuário autenticado pode ler ou escrever em seu próprio documento.
    match /users/{userId} {
      allow read, write: if request.auth.uid == userId;
    }

    // Regras para a coleção de posts.
    // Qualquer pessoa (autenticada ou não) pode ler e escrever posts.
    match /posts/{document=**} {
      allow read, write;
    }
  }
}
